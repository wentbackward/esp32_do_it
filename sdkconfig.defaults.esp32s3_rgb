# Board: ESP32-S3 + RGB 800x480 Panel + I2C GT911
# To use: idf.py -D SDKCONFIG_DEFAULTS="sdkconfig.defaults;sdkconfig.defaults.esp32s3_rgb" build

# Display driver selection
CONFIG_APP_DISPLAY_RGB_PARALLEL=y

# Display resolution
CONFIG_APP_LCD_HRES=800
CONFIG_APP_LCD_VRES=480

# Display common settings
CONFIG_APP_LCD_BGR=y
CONFIG_APP_LCD_INVERT_DEFAULT=n
CONFIG_APP_LCD_SWAP_BYTES=n
CONFIG_APP_LCD_PIN_BL=-1

# RGB parallel display settings
CONFIG_APP_LCD_RGB_PCLK_HZ=15000000
CONFIG_APP_LCD_RGB_PIN_PCLK=0
CONFIG_APP_LCD_RGB_PIN_HSYNC=39
CONFIG_APP_LCD_RGB_PIN_VSYNC=41
CONFIG_APP_LCD_RGB_PIN_DE=40
CONFIG_APP_LCD_RGB_PIN_D0=8
CONFIG_APP_LCD_RGB_PIN_D1=3
CONFIG_APP_LCD_RGB_PIN_D2=46
CONFIG_APP_LCD_RGB_PIN_D3=9
CONFIG_APP_LCD_RGB_PIN_D4=1
CONFIG_APP_LCD_RGB_PIN_D5=5
CONFIG_APP_LCD_RGB_PIN_D6=6
CONFIG_APP_LCD_RGB_PIN_D7=7
CONFIG_APP_LCD_RGB_PIN_D8=15
CONFIG_APP_LCD_RGB_PIN_D9=16
CONFIG_APP_LCD_RGB_PIN_D10=4
CONFIG_APP_LCD_RGB_PIN_D11=45
CONFIG_APP_LCD_RGB_PIN_D12=48
CONFIG_APP_LCD_RGB_PIN_D13=47
CONFIG_APP_LCD_RGB_PIN_D14=21
CONFIG_APP_LCD_RGB_PIN_D15=14

# RGB timing settings
CONFIG_APP_LCD_RGB_HSYNC_POLARITY=0
CONFIG_APP_LCD_RGB_HSYNC_FRONT_PORCH=8
CONFIG_APP_LCD_RGB_HSYNC_PULSE_WIDTH=4
CONFIG_APP_LCD_RGB_HSYNC_BACK_PORCH=43
CONFIG_APP_LCD_RGB_VSYNC_POLARITY=0
CONFIG_APP_LCD_RGB_VSYNC_FRONT_PORCH=8
CONFIG_APP_LCD_RGB_VSYNC_PULSE_WIDTH=4
CONFIG_APP_LCD_RGB_VSYNC_BACK_PORCH=12
CONFIG_APP_LCD_RGB_PCLK_ACTIVE_NEG=1
CONFIG_APP_LCD_RGB_DE_IDLE_HIGH=0
CONFIG_APP_LCD_RGB_PCLK_IDLE_HIGH=0

# Touch driver selection
CONFIG_APP_TOUCH_GT911_I2C=y

# Touch I2C settings
CONFIG_APP_TOUCH_I2C_PORT=0
CONFIG_APP_TOUCH_PIN_SCL=20
CONFIG_APP_TOUCH_PIN_SDA=19
CONFIG_APP_TOUCH_I2C_CLOCK_HZ=400000
CONFIG_APP_TOUCH_I2C_ADDR=0x5D
CONFIG_APP_TOUCH_PIN_RST=-1
CONFIG_APP_TOUCH_MANUAL_RESET=n
CONFIG_APP_TOUCH_USE_INT_PIN=n

# LVGL tuning
CONFIG_APP_LVGL_BUF_LINES=40

# LVGL: Allocate draw buffers in PSRAM (required for RGB panels)
CONFIG_LV_USE_DRAW_SW_ASM=LV_DRAW_SW_ASM_NONE

# Rotation
CONFIG_APP_ROT_SWAP_XY=0
CONFIG_APP_ROT_MIRROR_X=0
CONFIG_APP_ROT_MIRROR_Y=0

# ESP32-S3 CPU frequency
CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ_240=y

# PSRAM configuration for RGB panel (requires large framebuffer)
CONFIG_SPIRAM=y
CONFIG_SPIRAM_MODE_OCT=y
CONFIG_SPIRAM_SPEED_80M=y
CONFIG_SPIRAM_USE_CAPS_ALLOC=y
CONFIG_SPIRAM_IGNORE_NOTFOUND=n


# LVGL memory: use ESP-IDF malloc (can allocate from PSRAM)
CONFIG_LV_USE_BUILTIN_MALLOC=y
CONFIG_ESP_DEFAULT_CPU_FREQ_MHZ=240
CONFIG_FREERTOS_HZ=1000
CONFIG_LV_TXT_BREAK_CHARS=" ,.;:-_"                                                   
#CONFIG_LV_USE_SNAPSHOT=y
CONFIG_FLASHSIZE_4MB=y
CONFIG_ESPTOOLPY_FLASHMODE=QIO
